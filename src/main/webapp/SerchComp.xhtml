<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
	xmlns:f="http://xmlns.jcp.org/jsf/core">
<h:head>
	<style type="text/css">
div.item {
	width: 20px;
	height: 10px;
	text-align: center;
}

div#item_2 {
	position: absolute;
	color: black;
}
</style>
	<link rel="stylesheet"
		href="stylesheets/jquery.tooltip/jquery.tooltip.css" type="text/css" />
	<script type="text/javascript" src="javascripts/jquery.min.js"></script>
	<script type="text/javascript" src="javascripts/jquery.tooltip.js"></script>
	<script type="text/javascript">
		$j = jQuery.noConflict();
		$j(document).ready(function() {
			$j("div.item").tooltip();
		});
	</script>
	<title>企業検索</title>
</h:head>
<h:body>
	<ui:decorate template="ComMenu.xhtml">
	</ui:decorate>
	<!-- 本体  -->
	<div class="container">
		<!-- <div class="row">
        <div class="col-lg-12 hidden-xs hidden-sm hidden-md core">.col-lg-12 </div>
        <div class="col-md-12 hidden-xs hidden-sm hidden-lg core">.col-md-12 </div>
        <div class="col-sm-12 hidden-xs hidden-md hidden-lg core">.col-sm-12 </div>
        <div class="col-xs-12 hidden-sm hidden-md hidden-lg core">.col-xs-12 </div>
</div> -->
		<h:form id="SerchComp_Condition" class="form-horizontal">
			<!-- 1段目 -->
			<div class="form-group">
				<!-- 企業名 Company Name-->
				<label for="companyinfo-list-label"
					class="col-xs-4 col-sm-2 control-label text-right">企業名称：</label>
				<div class="col-xs-8 col-sm-5 controls">
					<h:inputText class="form-control" id="CompanyName"
						value="#{serchCompBean.companyName}" />
					<h:messages for="CompanyName" id="CompanyName_VMsg"
						style="color: red" title="入力エラー" />
				</div>
				<!-- 証券コード Stock Code-->
				<label for="companyinfo-list-label"
					class="col-xs-4 col-sm-2 control-label text-right">証券番号：</label>
				<div class="col-xs-8 col-sm-3 controls">
					<h:inputText class="form-control" id="stockCode"
						value="#{serchCompBean.stockCode}" />
					<h:messages for="stockCode" id="stockCode_VMsg" style="color: red"
						title="入力エラー" />
				</div>
			</div>
			<!-- /form-group -->
			<!-- 2段目 -->
			<div class="form-group">
				<!-- 業種 industry code-->
				<label for="companyinfo-list-label"
					class="col-xs-4 col-sm-2 control-label text-right">業種：</label>
				<div class="col-xs-8 col-sm-3">
					<h:selectOneListbox size="1" id="industryCode"
						value="#{serchCompBean.industryCode}" class="form-control">
						<h:message for="industryCode" id="industryCode_VMsg"
							style="color: red" title="入力エラー" />
						<f:selectItem itemValue="" itemLabel="選択して下さい" />
						<c:forEach var="obj"
							items="#{serchCompBean.selItemList.industryCode}">
							<f:selectItem itemValue="#{obj.value}" itemLabel="#{obj.label}" />
						</c:forEach>
					</h:selectOneListbox>
				</div>
				<div class="hidden-xs col-sm-2"></div>
				<!--　すぺーさ -->
				<!-- 決算月 Closing Month-->
				<label for="companyinfo-list-label"
					class="col-xs-4 col-sm-2 control-label text-right">決算月：</label>
				<div class="col-xs-8 col-sm-3">
					<h:selectOneListbox size="1" id="closeMonth"
						value="#{serchCompBean.closeingMonth}" class="form-control">
						<h:message for="closeMonth" id="closeMonth_VMsg"
							style="color: red" title="入力エラー" />
						<f:selectItem itemValue="" itemLabel="選択して下さい" />
						<c:forEach var="obj"
							items="#{serchCompBean.selItemList.closedMonth}">
							<f:selectItem itemValue="#{obj.value}" itemLabel="#{obj.label}" />
						</c:forEach>
					</h:selectOneListbox>
				</div>
			</div>
			<!-- /form-group -->
			<!-- 3段目 -->
			<div class="form-group">
				<!-- 時価総額　market capitalization　 -->
				<label for="marketCapF"
					class="hidden-xs col-sm-2 control-label text-right">時価総額(億円)：</label>
				<label for="marketCapF"
					class="col-xs-4 hidden-sm hidden-md hidden-lg control-label text-right">時価(億)：</label>
				<div class="col-xs-8 col-sm-4">
					<h:selectOneListbox size="1" id="marketCapF"
						value="#{serchCompBean.marketCapitalizationFrom}"
						class="form-control">
						<h:message for="marketCapF" id="market_CapF" style="color: red"
							title="入力エラー" />
						<f:selectItem itemValue="" itemLabel="選択して下さい" />
						<c:forEach var="obj"
							items="#{serchCompBean.selItemList.marketCap}">
							<f:selectItem itemValue="#{obj.value}" itemLabel="#{obj.label}" />
						</c:forEach>
					</h:selectOneListbox>
				</div>
				<!-- -->
				<label for="companyinfo-list-label"
					class="col-xs-4 hidden-sm hidden-md hidden-lg control-label"><p
						class="text-center" /></label> <label for="companyinfo-list-label"
					class="hidden-xs col-sm-2 control-label"><p
						class="text-center">～</p></label>
				<div class="col-xs-8 col-sm-4">
					<h:selectOneListbox size="1" id="marketCapT"
						value="#{serchCompBean.marketCapitalizationTo}"
						class="form-control">
						<h:message for="marketCapT" id="market_CapT" style="color: red"
							title="入力エラー" />
						<f:selectItem itemValue="" itemLabel="選択して下さい" />
						<c:forEach var="obj"
							items="#{serchCompBean.selItemList.marketCap}">
							<f:selectItem itemValue="#{obj.value}" itemLabel="#{obj.label}" />
						</c:forEach>
					</h:selectOneListbox>
				</div>
				<!-- -->
			</div>
			<!-- /div form-group-->
			<!-- 4段目 -->
			<div class="form-group">
				<!-- 市場 Market-->
				<label for="market"
					class="col-xs-4 col-sm-2 control-label text-right">上場市場：</label>
				<div class="col-xs-8 col-sm-3">
					<h:selectOneListbox size="1" id="market"
						value="#{serchCompBean.market}" class="form-control">
						<h:message for="market" id="market_VMsg" style="color: red"
							title="入力エラー" />
						<f:selectItem itemValue="" itemLabel="選択して下さい" />
						<c:forEach var="obj" items="#{serchCompBean.selItemList.market}">
							<f:selectItem itemValue="#{obj.value}" itemLabel="#{obj.label}" />
						</c:forEach>
					</h:selectOneListbox>
				</div>
				<div class="hidden-xs col-sm-2"></div>
				<!-- 上場 listed -->
				<label for="listedstat"
					class="col-xs-4 col-sm-2 control-label text-right">上場状況：</label>
				<div class="col-xs-8 col-sm-3">
					<h:selectOneListbox size="1" id="listedstat"
						value="#{serchCompBean.listed}" class="form-control">
						<h:message for="listedstat" id="listedstat_VMsg"
							style="color: red" title="入力エラー" />
						<f:selectItem itemValue="" itemLabel="選択して下さい" />
						<c:forEach var="obj" items="#{serchCompBean.selItemList.listed}">
							<f:selectItem itemValue="#{obj.value}" itemLabel="#{obj.label}" />
						</c:forEach>
					</h:selectOneListbox>
				</div>
			</div>
			<!-- /form-group -->
			<!-- 4段目 -->
			<!-- 検索 ボタン -->
			<div class="form-group">
				<div class="col-xs-8"></div>
				<div class="col-xs-4" align="right">
					<h:commandButton type="submit" class="btn btn-primary" value="検索"
						action="#{serchCompBean.serch()}" />
				</div>
			</div>
			<!-- /form-group -->
		</h:form>
		<!-- /form -->
		<hr></hr>
		<!-- 検索結果 -->
		<h:form id="SerchComp_InfoList" class="table-responsive">
			<div class="form-group">
				<div class="col-xs-12">
					<h:commandLink id="backList" value="戻る  "
						action="#{serchCompBean.backList()}"
						disabled="#{serchCompBean.backList}"></h:commandLink>
					<h:outputText
						value="検索結果：#{serchCompBean.nowListIndex} / #{serchCompBean.dsp_SerchCompanyNum} 件" />
					<h:commandLink id="nextList" value="  次へ"
						action="#{serchCompBean.nextList()}"
						disabled="#{serchCompBean.nextList}"></h:commandLink>
				</div>
			</div>
			<!-- テーブル定義 -->
			<!--                <h:dataTable class="table table-striped table-borderd table-hober" id="srhTable" value="#{serchCompBean.compInfos.compList}" var="scInfo"> -->
			<h:dataTable class="table table-striped table-borderd table-hober"
				id="srhTable" value="#{serchCompBean.compViewList}" var="scInfo">
				<!-- テーブルヘッダー -->
				<h:column>
					<f:facet name="header">証券番号 </f:facet>
					<div id="item_2" class="item">
						<h:commandLink
							action="#{serchCompBean.goCompDetail(scInfo.stock_code,false)}"
							value="#{scInfo.stock_code}"></h:commandLink>
						<div class="tooltip_description" style="display: none">
							企業名称：
							<h:outputText value="#{scInfo.brand_nm}" />
							<br /> 所在地：
							<h:outputText value="#{scInfo.office_address}" />
							<br /> 電話番号：
							<h:outputText value="#{scInfo.office_tel}" />
							<br /> 創業：
							<h:outputText value="#{scInfo.found_yymm}" />
							<br /> 上場：
							<h:outputText value="#{scInfo.listedState}" />
							<br /> 市場：
							<h:outputText value="#{scInfo.market_nm}" />
							<br /> 代表：
							<h:outputText value="#{scInfo.represent_director_nm}" />
							<br /> 決算：
							<h:outputText value="#{scInfo.settlement_mm}" />
							<br /> 業種：
							<h:outputText value="#{scInfo.biz_cd_tse_33}" />
							<br /> 時価（百万）：
							<h:outputText value="#{scInfo.marketCapitalization}" />
							<br /> 公式：
							<h:outputText value="#{scInfo.office_url}" />



						</div>
					</div>
				</h:column>
				<h:column>
					<f:facet name="header">企業名</f:facet>
					<h:outputText value="#{scInfo.brand_nm}" />
				</h:column>
				<h:column>
					<f:facet name="header">業種</f:facet>
					<h:outputText value="#{scInfo.biz_cd_tse_33}" />
				</h:column>
				<h:column>
					<f:facet name="header">決済月</f:facet>
					<h:outputText value="#{scInfo.settlement_mm}" />
				</h:column>
				<h:column>
					<f:facet name="header">時価総額(百万円)</f:facet>
					<h:outputText value="#{scInfo.marketCapitalization}" />
				</h:column>
				<h:column>
					<f:facet name="header">上場市場</f:facet>
					<h:outputText value="#{scInfo.market_nm}" />
				</h:column>
				<h:column>
					<f:facet name="header">上場状態</f:facet>
					<h:outputText value="#{scInfo.listedState}" />
				</h:column>
				<h:column>
					<f:facet name="header">メモ最終更新</f:facet>
					<h:outputText value="#{scInfo.date_lastMemoUp}">
						<f:convertDateTime pattern="yyyy/MM/dd HH:mm:ss" timeZone="JST" />
					</h:outputText>
				</h:column>
				<!-- テーブル内容 -->
			</h:dataTable>
		</h:form>
		<!-- /form -->
		<h:form id="backBtnForm" class="form-horizontal">
			<div class="form-group">
				<div class="col-xs-4">
					<a href="#SerchComp_Condition">ページTopへ</a>
				</div>
				<div class="col-xs-4" align="right"></div>
				<div class="col-xs-4" align="right">
					<h:commandButton type="submit" class="btn btn-default" value="戻る"
						action="#{serchCompBean.goBack()}" />
				</div>
			</div>
			<!-- /form-group -->
		</h:form>
	</div>
	<!-- /div class="container" -->
</h:body>
</html>

